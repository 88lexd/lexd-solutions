<script is:inline>
    if (localStorage.theme === 'dark' || !('theme' in localStorage)) {
        document.documentElement.classList.add('dark');
        localStorage.setItem('theme', 'dark');
    } else {
        document.documentElement.classList.remove('dark');
        localStorage.setItem('theme', 'light');
    }
</script>

<script>
	const iconTheme = document.querySelector('.theme')
	const sunIcon = document.querySelector('.sun-logo')
	const moonIcon = document.querySelector('.moon-logo')
	const theme = localStorage.getItem('theme')

	if (theme === 'dark') {
		moonIcon!.classList.toggle('opacity-0')
	} else {
		sunIcon!.classList.toggle('opacity-0')
		moonIcon!.classList.add('animate-moon')
	}

	if (iconTheme !== null) {
		iconTheme.addEventListener('click', () => {
			document.documentElement.classList.toggle('dark')
			sunIcon!.classList.toggle('animate-sun')
			moonIcon!.classList.toggle('animate-moon')

			if (document.documentElement.classList.contains('dark')) {
				localStorage.setItem('theme', 'dark')
				moonIcon!.classList.toggle('opacity-0')
				sunIcon!.classList.toggle('opacity-0')
			} else {
				localStorage.setItem('theme', 'light')
				sunIcon!.classList.toggle('opacity-0')
				moonIcon!.classList.toggle('opacity-0')
			}
		})
	}
</script>
